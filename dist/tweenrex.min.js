!function(){"use strict"
function t(t,e){t.push.apply(t,e)}function e(t,e){for(var n=0;n<e.length;n++){var r=t.indexOf(e[n]);-1!==r&&t.splice(r,1)}}function n(t){return Array.isArray(t)?t:[t]}function r(r){var i,s,a=!1!==(r=r||{}).distinct,u=r.onNext||p,o=r.onDispose||p,c=r.onSubscribe||p,l=r.onUnsubscribe||p,f=n(r.subscribe||[])
return{dispose:function(){f.length=0,o()},next:function(t){if(s||(s=[]),s.push(t),1>=s.length){for(var e=0;e<s.length;e++){var n=f.slice(),r=s[e]
if(!a||r!==i){i=r
for(var o=0;o<n.length;o++)n[o](r)}}s.length=0,u(t,f)}},subscribe:function(r){return r=n(r),c(f),t(f,r),function(){e(f,r),l(f)}}}}function i(t,e){return t instanceof e?t:Object.create(e.prototype)}function s(t){return t instanceof Element?t:document.querySelector(t)}function a(t){var e=i(this,a)
e.target=s(t.targets),e._timer=t.timer||v,e._tick=("x"===t.direction?u:o).bind(e)
var n=r(t)
return e.dispose=function(){e.pause(),e.target=_,n.dispose()},e.next=n.next,e.subscribe=n.subscribe,e}function u(){var t=this,e=t.target
t.next(e.scrollLeft/(e.scrollWidth-e.clientWidth))}function o(){var t=this,e=t.target
t.next(e.scrollTop/(e.scrollHeight-e.clientHeight))}function c(t){return"string"==typeof t}function l(t,e,n){return e>t?e:t>n?n:t}function f(t,e){return t===_?e:t}function b(t){if(t instanceof b)return t
var e=t||{},n=i(this,b)
n._timer=e.timer||v,n._pos=e.duration||0,n._time=0,n.labels=e.labels||{},n.playbackRate=1
var s=e.frameSize
n._tick=function(t){var e=n._time+(s||(t-(n._last||t))*n.playbackRate)
n._last=t,n.seek(e)}
var a=r(e)
return n.dispose=function(){n.pause(),n._pos=0,n._time=0,n.playbackRate=1,n._tweens=_,n.labels={},a.dispose()},n.next=a.next,n.subscribe=a.subscribe,n}var p=function(){},_=void 0,h="undefined"!=typeof requestAnimationFrame?requestAnimationFrame:function(t){return setTimeout(function(){return t(Date.now())},1e3/60)},v=r({onSubscribe:function(t){t.length||h(v.next)},onNext:function(t,e){e.length&&h(v.next)}})
a.prototype={get isPlaying(){return!!this._sub},play:function(){var t=this
t.isPlaying||(t._sub=t._timer.subscribe(t._tick))},pause:function(){var t=this
t.isPlaying&&(t._sub(),t._sub=_)}},b.prototype={get duration(){var t=this,e=t._tweens,n=t._pos
if(e)for(var r=0,i=e.length;i>r;r++){var s=e[r],a=s.pos+s.tween.duration
a>n&&(n=a)}return n},set duration(t){this._pos=t},get currentTime(){return this._time},set currentTime(t){this.seek(t)},get isPlaying(){return!!this._sub},add:function(r,i){var s=this
s._tweens||(s._tweens=[]),r=n(r)
for(var a=s._tweens,u=f((i=i||{}).position,s.duration),o=i.sequence,c=i.stagger,l=r.length,p=Array(l),h=0;l>h;h++){var v=b(r[h])
v.isPlaying&&v.pause(),v._timer=_,p[h]={pos:u,tween:v},o&&(u+=v.duration),c&&(u+=c)}return t(a,p),function(){e(a,p)}},play:function(){var t=this,e=t._timer
if(e&&!t.isPlaying){var n=t.playbackRate>=0,r=t.duration,i=t._time
n&&i>=r?i=0:n||i>0||(i=r),t._sub=e.subscribe(t._tick),t.seek(i)}return t},restart:function(){var t=this
return t.pause().seek(0>t.playbackRate?t.duration:0).play()},pause:function(){var t=this,e=t._sub
return e&&(e(),t._sub=t._last=_),t},reverse:function(){return this.playbackRate*=-1,this},seek:function(t){var e=this,n=e.playbackRate>=0,r=e.duration,i=e._tweens,s=c(t)?e.labels[t]:t
if(n&&s>=r?(s=r,e.pause()):n||s>0||(s=0,e.pause()),e._time=s,e.next(s/(r||1)),i)for(var a=0,u=i.length;u>a;a++){var o=i[a],f=o.tween,b=o.pos,p=l((s-b)/(b+(f.duration||1)-b),0,1)
f.next(p)}return e},getLabel:function(t){return this.labels[t]},setLabel:function(t,e){return this.labels[t]=e,this}},function(t,e){for(var n in e)t[n]===_&&(t[n]=e[n])}(window,{TRexObservable:r,TyrannoScrollus:a,TweenRex:b})}()
