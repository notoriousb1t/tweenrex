var tweenrex=function(e){"use strict"
function t(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])
e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var r,n=function(){return function(){var e=this
this.subs=[],this._buffer=[],this.next=function(t){var r=e,n=r._buffer
if(r._publishing)n.splice(0,0,t)
else{r._publishing=!0
var i=t,s=!0
do{s||(i=r._buffer.pop())
for(var u=r.subs.slice(),a=0;a<u.length;a++)u[a](i)
s=!1}while(n.length)
r._publishing=!1,r.afterNext&&r.afterNext()}},this.subscribe=function(t){var r=e,n=r.subs
return r.beforeNext&&r.beforeNext(),n.push(t),function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}}}}(),_=void 0
r="undefined"!=typeof window?window.requestAnimationFrame:function(e){setTimeout(e,1e3/60)}
var i=new n
i.beforeNext=function(){this.subs.length||r(this.next)},i.afterNext=function(){this.subs.length&&r(this.next)}
var s=function(e){function r(t){var n=e.call(this)||this
n.tick=function(e){var t=n,r=t.currentTime+(t._frameSize||(e-(t._lastTime||e))*t.playbackRate)
t._lastTime=e,t.seek(r)},t=t||{}
var s=n instanceof r?n:Object.create(r.prototype)
return s._scheduler=t.scheduler||i,s._frameSize=t.frameSize,s.duration=t.duration,s.currentTime=0,s.playbackRate=1,s}return t(r,e),Object.defineProperty(r.prototype,"isPlaying",{get:function(){return!!this._sub},enumerable:!0,configurable:!0}),r.prototype.play=function(){var e=this
if(!e.isPlaying){var t=e.playbackRate>=0,r=e.duration,n=e.currentTime
t&&n>=r?n=0:t||n>0||(n=r),e._sub=e._scheduler.subscribe(e.tick),e.seek(n)}},r.prototype.pause=function(){var e=this._sub
e&&(e(),this._sub=_)},r.prototype.reverse=function(){this.playbackRate*=-1},r.prototype.seek=function(e){var t=this,r=t.playbackRate>=0,n=t.duration
r&&e>=n?(e=n,t.pause()):r||e>0||(e=0,t.pause()),t.currentTime=e,t.next(e/(n||1))},r}(n)
return e.Tween=s,e}({})
