!function(){"use strict"
function t(t,i){t.push.apply(t,i)}function i(t,i){for(var e=0;e<i.length;e++){var s=t.indexOf(i[e]);-1!==s&&t.splice(s,1)}}function e(t){return Array.isArray(t)?t:[t]}function s(s){var n,r,o=!1!==(s=s||{}).distinct,a=s.onNext||c,u=s.onDispose||c,h=s.onSubscribe||c,l=s.onUnsubscribe||c,p=e(s.subscribe||[])
return{dispose:function(){p.length=0,u()},next:function(t){if(r||(r=[]),r.push(t),1>=r.length){for(var i=0;i<r.length;i++){var e=p.slice(),s=r[i]
if(!o||s!==n){n=s
for(var u=0;u<e.length;u++)e[u](s)}}r.length=0,a(t,p)}},subscribe:function(s){return s=e(s),h(p),t(p,s),function(){i(p,s),l(p)}}}}function n(t,i){return t instanceof i?t:Object.create(i.prototype)}function r(t){return"string"==typeof t}function o(t){var i=n(this,o)
i._opts=t,i.target=function(t){return r(t.tagName)?t:document.querySelector(t)}(t.targets),i._timer=t.timer||l,i.easing=t.easing,i.direction=t.direction,i._tick=function(){var t=i.target,e="x"===i.direction?t.scrollLeft/(t.scrollWidth-t.clientWidth):t.scrollTop/(t.scrollHeight-t.clientHeight)
i.easing&&(e=i.easing(e)),i.next(e)}
var e=s(t)
return i.next=e.next,i.subscribe=e.subscribe,i.dispose=function(){i.pause(),i.target=_,e.dispose()},i}function a(t,i,e){return i>t?i:t>e?e:t}function u(t){var i=t||{},e=n(this,u)
e._opts=i,e._timer=i.timer||l,e._pos=i.duration||0,e._time=0,e.labels=i.labels||{},e.easing=i.easing,e.playbackRate=1,e._tick=function(t){var s=i.frameSize||(t-(e._last||t))*e.playbackRate,n=e._time+s
e._last=t,e.seek(n)}
var r=s(i)
return e.dispose=function(){e.pause(),e._pos=0,e._time=0,e.playbackRate=1,e._tweens=_,e.labels={},r.dispose()},e.next=r.next,e.subscribe=r.subscribe,e}var c=function(){},_=void 0,h="undefined"!=typeof requestAnimationFrame?requestAnimationFrame:function(t){return setTimeout(function(){return t(Date.now())},1e3/60)},l=s({onSubscribe:function(t){t.length||h(l.next)},onNext:function(t,i){i.length&&h(l.next)}})
o.prototype={get isPlaying(){return!!this._sub},play:function(){this.isPlaying||(this._tick(),this._sub=this._timer.subscribe(this._tick),this._opts.onPlay&&this._opts.onPlay())},pause:function(){this.isPlaying&&(this._sub(),this._sub=_,this._opts.onPause&&this._opts.onPause())}},u.prototype={get duration(){var t=this._tweens,i=this._pos
if(t)for(var e=0,s=t.length;s>e;e++){var n=t[e],r=n.pos+n.tween.duration
r>i&&(i=r)}return i},set duration(t){this._pos=t},get currentTime(){return this._time},set currentTime(t){this.seek(t)},get isPlaying(){return!!this._sub},add:function(s,n){this._tweens||(this._tweens=[]),s=e(s)
for(var o=this._tweens,a=function(t,i){return t===_?i:t}(r((n=n||{}).position)?this.labels[n.position]:n.position,this.duration),c=n.sequence,h=n.stagger,l=s.length,p=Array(l),f=0;l>f;f++){var b=function(t){return t instanceof u?t:u(t)}(s[f])
b.isPlaying&&b.pause(),b._timer=_,p[f]={pos:a,tween:b},c&&(a+=b.duration),h&&(a+=h)}return t(o,p),function(){i(o,p)}},play:function(){var t=this._timer
if(t&&!this.isPlaying){var i=this.playbackRate>=0,e=this.duration,s=this._time
i&&s>=e?s=0:i||s>0||(s=e),this.seek(s),this._sub=t.subscribe(this._tick),this._opts.onPlay&&this._opts.onPlay()}return this},restart:function(){return this.pause().seek(0>this.playbackRate?this.duration:0).play()},pause:function(){var t=this._sub
return t&&(t(),this._sub=this._last=_,this._opts.onPause&&this._opts.onPause()),this},reverse:function(){return this.playbackRate*=-1,this},seek:function(t){var i,e=this.playbackRate>=0,s=this.duration,n=this._tweens,o=r(t)?this.labels[t]:t
e&&o>=s?(o=s,this.pause(),i=!0):e||o>0||(o=0,this.pause(),i=!0),this._time=o
var u=o/(s||1)
if(this.easing&&(u=this.easing(u)),this.next(u),n)for(var c=0,h=n.length;h>c;c++){var l=n[c],p=l.tween,f=l.pos,b=a((o-f)/(f+(p.duration||1)-f),0,1)
p.next(b)}return i&&this._opts.onFinish&&this._opts.onFinish(),this},getLabel:function(t){return this.labels[t]},setLabel:function(t,i){return this.labels[t]=i,this}}
var p=window
p.TRexObservable=s,p.TyrannoScrollus=o,p.TweenRex=u}()
